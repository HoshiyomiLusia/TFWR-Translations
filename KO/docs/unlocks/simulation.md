# 시뮬레이션

시뮬레이션을 사용하면 실제 농장의 상태를 변경하지 않고 코드를 빠르게 테스트할 수 있습니다.
시뮬레이션의 시작 상태는 자유롭게 선택할 수 있으며, 시뮬레이션이 끝나면 실제 농장은 시뮬레이션 시작 전과 정확히 같은 상태가 됩니다.

`simulate()` 함수는 시뮬레이션을 시작하는 데 사용됩니다.

실행을 시작할 파일
`filename = "f1"`

모든 것이 해금되고 완전히 업그레이드된 상태로 시작
`sim_unlocks = Unlocks`

당근 10000개와 건초 50개로 시작
`sim_items = {Items.Carrot : 10000, Items.Hay : 50}`

값이 13인 전역 변수 "a"로 시작
`sim_globals = {"a" : 13}`

고정된 랜덤 seed 사용
`seed = 0`

시뮬레이션 속도를 64배로 높임
`speedup = 64`

시뮬레이션 실행
`run_time = simulate(filename, sim_unlocks, sim_items, sim_globals, seed, speedup)`

`simulate()` 함수는 주어진 시작 파일을 시뮬레이션하는 데 걸린 시간을 초 단위로 반환합니다.

### 파일 이름
simulate 함수의 첫 번째 인자는 파일 이름입니다. 이것은 코드 창 상단에 표시되는 이름입니다. 시뮬레이션은 마치 실행 버튼을 클릭한 것처럼 지정된 파일을 실행합니다.

### 시작 해금 요소
루프, if 문, list, dict 등 모든 프로그래밍 기능은 항상 해금된 상태로 유지됩니다. 

두 번째 인자를 사용하면 프로그래밍 기능 외에 시뮬레이션을 시작할 때 사용할 해금 요소/업그레이드를 지정할 수 있습니다. 이것은 해금 요소의 시퀀스여야 합니다. 시뮬레이션은 시퀀스의 모든 해금 요소가 최대 레벨로 업그레이드된 상태로 시작합니다.

최대 레벨이 아닌 다른 업그레이드 레벨을 지정하려면 해금 요소를 해금 레벨에 매핑하는 dictionary를 전달할 수 있습니다. 이 경우, 음수 값은 최대 해금 레벨에 해당합니다.

### 시작 아이템
세 번째 인자를 사용하면 아이템을 숫자에 매핑하는 dictionary를 전달할 수 있습니다. 이것은 시뮬레이션을 시작할 때 사용할 아이템을 지정합니다.

### 시작 전역 변수
시뮬레이션은 완전히 새로운 프로그램 실행을 시작하기 때문에, 시뮬레이션을 시작하는 프로그램의 변수에 접근할 수 없습니다.
그러나 네 번째 인자를 사용하여 시뮬레이션에 값을 전달할 수 있습니다. 이것은 변수 이름을 문자열 형태로 값에 매핑하는 dict입니다. 이 변수들은 시뮬레이션 내 실행의 전역 scope에 추가됩니다.

이것은 모든 값을 복사하므로, 시뮬레이션 내에서 값을 변경해도 시뮬레이션 밖의 원본 값에는 영향을 주지 않습니다. 실행에 걸린 시간 외에는 시뮬레이션에서 값을 반환할 수 없습니다.

### 랜덤 Seed
다섯 번째 인자를 사용하면 시뮬레이션에 사용될 랜덤 seed를 지정할 수 있습니다. 양의 정수여야 합니다. 음수 값은 무작위 seed를 사용하게 합니다.

랜덤 seed는 식물 성장 시간부터 미로 배치, 물 감소 시간까지 모든 것에 영향을 줍니다. 같은 랜덤 seed와 같은 시작 조건으로 동일한 시뮬레이션을 여러 번 시작하면 결과는 항상 동일해야 합니다.

### 속도 배율
여섯 번째 인자는 시뮬레이션의 시작 속도 배율입니다. 이를 통해 빠르게 테스트할 수 있습니다. 게임이 설정된 속도를 따라가지 못하면 자동으로 속도가 느려집니다.

속도 배율은 시뮬레이션 결과에 어떤 영향도 주지 않습니다. 단지 대기 시간을 줄이기 위해 존재합니다.