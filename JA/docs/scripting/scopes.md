# スコープ
scopeは、どの変数がどこからアクセスできるかを決定します。scopeは基本的に、名前から値へのマッピングです。
これらは基本的にPythonと同じように機能します。

グローバルscopeがあり、各関数にはローカルscopeがあります。
変数を定義すると、それは現在のscopeに追加されます。
関数定義の外にあるものはすべて、グローバルscopeの一部と見なされます。

`x = 1`
グローバルscopeで名前`x`に値`1`を割り当てます。

この`def`ステートメントは、グローバルscopeで名前`f`に関数を割り当てます。
`def f():
    `f`のローカルscopeで名前`y`に値`1`を割り当てます。`
    y = 1

    `f`のローカルscopeで名前`g`に関数を割り当てます。`
    def g():
        pass`

`f()`
グローバルscopeから`f`に保存されている関数を取得して呼び出します。

`print(y)`
このグローバルscopeでのprintステートメントは、`y`がグローバルscopeで宣言されていないため、ここで読み取ることができず、errorをスローします。
それは`f`のローカルscopeにのみ存在していました。

## globalキーワード
デフォルトでは、関数内のすべての変数は、同じ名前の変数がグローバルscopeに存在する場合でも、ローカルscopeに束縛されます。

`x = 0

def f():
    x = 1
f()
print(x)`

このコードは`0`を表示します。なぜなら、`f`内のローカルな`x`はグローバルな`x`と同じ変数ではないため、グローバルな`x`は変更されないままです。これは重要です。そうでなければ、関数呼び出しが、たまたまその関数のローカル変数と同じ名前を持つグローバル変数を誤って上書きしてしまう可能性があるからです。

グローバル変数に書き込みたい場合は、`global`キーワードを使用して明示的に行う必要があります。

`x = 0

def f():
    global x
    x = 1
f()
print(x)`

この例では、`global x`は`x`をその上で定義されたグローバル変数`x`に束縛します。これにより、`1`が表示されるようになります。
グローバル変数を変更することは、通常、プログラムのあらゆる部分が他のあらゆる部分に影響を与えるスパゲッティコードへの第一歩であるため、使いすぎないように注意してください。

## ループと分岐
ループと分岐は独自のscopeを作成しないため、その中で宣言されたものは外でも使用できます。

`for i in range(3):
    pass
print(i)`

`for`ループの最後のイテレーションが`i`に`2`を割り当てたため、これは`2`を表示します。