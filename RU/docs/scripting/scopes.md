# Области видимости имён
Области видимости определяют, к каким переменным можно получить доступ и откуда. Область видимости — это, по сути, сопоставление имён со значениями.
Они работают практически так же, как в Python.

Существует глобальная область видимости, и у каждой функции есть своя локальная область видимости.
Когда вы определяете переменную, она добавляется в текущую область видимости.
Всё, что находится вне определения функции, считается частью глобальной области видимости.

`x = 1`
Присваивает значение `1` имени `x` в глобальной области видимости.

Эта инструкция `def` присваивает функцию имени `f` в глобальной области видимости.
`def f():
    `Присваивает значение `1` имени `y` в локальной области видимости `f`.`
    y = 1

    `Присваивает функцию имени `g` в локальной области видимости `f`.`
    def g():
        pass`

`f()`
Извлекает функцию, хранящуюся в `f` из глобальной области видимости, и вызывает её.

`print(y)`
Эта инструкция print в глобальной области видимости вызывает ошибку, потому что `y` никогда не объявлялась в глобальной области видимости, поэтому мы не можем её здесь прочитать.
Она существовала только в локальной области видимости `f`.

## Ключевое слово global
По умолчанию все переменные в функциях привязываются к локальной области видимости, даже если переменная с таким же именем существует в глобальной области видимости.

`x = 0

def f():
    x = 1
f()
print(x)`

Этот код выводит `0`, потому что локальная `x` внутри `f` — это не та же переменная, что и глобальная `x`, поэтому глобальная `x` остаётся неизменной. Это важно, потому что в противном случае вызов функции мог бы случайно перезаписать глобальную переменную, которая просто имеет то же имя, что и локальная переменная этой функции.

Если вы хотите записать значение в глобальную переменную, вы должны сделать это явно, используя ключевое слово `global`.

`x = 0

def f():
    global x
    x = 1
f()
print(x)`

В этом примере `global x` привязывает `x` к глобальной переменной `x`, определённой выше. Теперь будет выведено `1`.
Обратите внимание, что изменение глобальных переменных обычно является первым шагом к спагетти-коду, где каждая часть программы влияет на любую другую часть программы, так что не злоупотребляйте этим.

## Циклы и ветвления
Циклы и ветвления не создают своих собственных областей видимости, поэтому всё, что объявлено в них, всё ещё можно использовать снаружи.

`for i in range(3):
    pass
print(i)`

Это выведет `2`, потому что последняя итерация цикла `for` присвоила `2` переменной `i`.